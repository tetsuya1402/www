<!DOCTYPE html>
<html lang="uk">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–æ—à–∏–∫</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>

<body>
  <header class="main-header">
    <div class="logo">
      <h1><a href="index.html">üëï –ú–∞–≥–∞–∑–∏–Ω</a></h1>
    </div>
    <button onclick="toggleTheme()">üåì</button>
  </header>

  <main class="container">
    <h2>–í–∞—à –∫–æ—à–∏–∫</h2>
    <div id="cart-items" class="grid"></div>
    <p id="empty-cart" style="display:none;">üõí –ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p>
  </main>

  <script>
    if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
    function toggleTheme() {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    }

    const defaultProducts = [
      { id: 1, name: "–§—É—Ç–±–æ–ª–∫–∞ –±—ñ–ª–∞", price: 500, image: "images/product1.jpg" },
      { id: 2, name: "–ö–æ—Å—Ç—é–º", price: 700, image: "images/product2.jpg" },
      { id: 3, name: "–ö—É—Ä—Ç–∫–∞", price: 5100, image: "images/product3.jpg" },
      { id: 4, name: "–ö—Ä–æ—Å—Å–æ–≤–∫–∏", price: 4100, image: "images/product4.jpg" }
    ];
    const adminProducts = JSON.parse(localStorage.getItem("adminProducts")) || [];
    const products = [...defaultProducts, ...adminProducts];

    const cartItemsContainer = document.getElementById('cart-items');
    const emptyCartText = document.getElementById('empty-cart');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function displayCart() {
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        emptyCartText.style.display = 'block';
        return;
      }
      emptyCartText.style.display = 'none';

      cart.forEach((item, index) => {
        const product = products.find(p => p.id === item.id);
        if (product) {
          cartItemsContainer.innerHTML += `
            <div class="card">
              <img src="${product.image}" alt="${product.name}" />
              <div class="card-body">
                <h3>${product.name}</h3>
                <p>–¶—ñ–Ω–∞: ${product.price} –≥—Ä–Ω</p>
                <p>–†–æ–∑–º—ñ—Ä: ${item.size || 'M'}</p>
                <button onclick="removeFromCart(${index})">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
<a href="checkout.html">
  <button style="margin-top: 20px;">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
</a>

              </div>
            </div>
          `;
        }
      });
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      displayCart();
    }

    displayCart();

  </script>
</body>

</html